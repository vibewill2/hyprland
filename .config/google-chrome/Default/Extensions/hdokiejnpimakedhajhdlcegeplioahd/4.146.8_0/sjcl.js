"use strict";var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};"undefined"!==typeof module&&module.exports&&(module.exports=sjcl),"function"===typeof define&&define([],(function(){return sjcl})),sjcl.bitArray={bitSlice:function(t,i,s){return t=sjcl.bitArray._shiftRight(t.slice(i/32),32-(31&i)).slice(1),void 0===s?t:sjcl.bitArray.clamp(t,s-i)},extract:function(t,i,s){var e=Math.floor(-i-s&31);return(-32&(i+s-1^i)?t[i/32|0]<<32-e^t[i/32+1|0]>>>e:t[i/32|0]>>>e)&(1<<s)-1},concat:function(t,i){if(0===t.length||0===i.length)return t.concat(i);var s=t[t.length-1],e=sjcl.bitArray.getPartial(s);return 32===e?t.concat(i):sjcl.bitArray._shiftRight(i,e,0|s,t.slice(0,t.length-1))},bitLength:function(t){var i,s=t.length;return 0===s?0:(i=t[s-1],32*(s-1)+sjcl.bitArray.getPartial(i))},clamp:function(t,i){if(32*t.length<i)return t;var s=(t=t.slice(0,Math.ceil(i/32))).length;return i&=31,s>0&&i&&(t[s-1]=sjcl.bitArray.partial(i,t[s-1]&2147483648>>i-1,1)),t},partial:function(t,i,s){return 32===t?i:(s?0|i:i<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,i){if(sjcl.bitArray.bitLength(t)!==sjcl.bitArray.bitLength(i))return!1;var s,e=0;for(s=0;s<t.length;s++)e|=t[s]^i[s];return 0===e},_shiftRight:function(t,i,s,e){var r,n,h;for(void 0===e&&(e=[]);i>=32;i-=32)e.push(s),s=0;if(0===i)return e.concat(t);for(r=0;r<t.length;r++)e.push(s|t[r]>>>i),s=t[r]<<32-i;return n=t.length?t[t.length-1]:0,h=sjcl.bitArray.getPartial(n),e.push(sjcl.bitArray.partial(i+h&31,i+h>32?s:e.pop(),1)),e},_xor4:function(t,i){return[t[0]^i[0],t[1]^i[1],t[2]^i[2],t[3]^i[3]]},byteswapM:function(t){var i,s;for(i=0;i<t.length;++i)s=t[i],t[i]=s>>>24|s>>>8&65280|(65280&s)<<8|s<<24;return t}},sjcl.codec.utf8String={fromBits:function(t){var i,s,e="",r=sjcl.bitArray.bitLength(t);for(i=0;i<r/8;i++)0===(3&i)&&(s=t[i/4]),e+=String.fromCharCode(s>>>24),s<<=8;return decodeURIComponent(escape(e))},toBits:function(t){t=unescape(encodeURIComponent(t));var i,s=[],e=0;for(i=0;i<t.length;i++)e=e<<8|t.charCodeAt(i),3===(3&i)&&(s.push(e),e=0);return 3&i&&s.push(sjcl.bitArray.partial(8*(3&i),e)),s}},sjcl.codec.hex={fromBits:function(t){var i,s="";for(i=0;i<t.length;i++)s+=(0xf00000000000+(0|t[i])).toString(16).substr(4);return s.substr(0,sjcl.bitArray.bitLength(t)/4)},toBits:function(t){var i,s,e=[];for(s=(t=t.replace(/\s|0x/g,"")).length,t+="00000000",i=0;i<t.length;i+=8)e.push(0^parseInt(t.substr(i,8),16));return sjcl.bitArray.clamp(e,4*s)}},sjcl.codec.base64={_chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,i,s){var e,r="",n=0,h=sjcl.codec.base64._chars,c=0,o=sjcl.bitArray.bitLength(t);for(s&&(h=h.substr(0,62)+"-_"),e=0;6*r.length<o;)r+=h.charAt((c^t[e]>>>n)>>>26),n<6?(c=t[e]<<6-n,n+=26,e++):(c<<=6,n-=6);for(;3&r.length&&!i;)r+="=";return r},toBits:function(t,i){t=t.replace(/\s|=/g,"");var s,e,r=[],n=0,h=sjcl.codec.base64._chars,c=0;for(i&&(h=h.substr(0,62)+"-_"),s=0;s<t.length;s++){if((e=h.indexOf(t.charAt(s)))<0)throw new sjcl.exception.invalid("this isn't base64!");n>26?(n-=26,r.push(c^e>>>n),c=e<<32-n):c^=e<<32-(n+=6)}return 56&n&&r.push(sjcl.bitArray.partial(56&n,c,1)),r}},sjcl.codec.base64url={fromBits:function(t){return sjcl.codec.base64.fromBits(t,1,1)},toBits:function(t){return sjcl.codec.base64.toBits(t,1)}},sjcl.codec.bytes={fromBits:function(t){var i,s,e=[],r=sjcl.bitArray.bitLength(t);for(i=0;i<r/8;i++)0===(3&i)&&(s=t[i/4]),e.push(s>>>24),s<<=8;return e},toBits:function(t){var i,s=[],e=0;for(i=0;i<t.length;i++)e=e<<8|t[i],3===(3&i)&&(s.push(e),e=0);return 3&i&&s.push(sjcl.bitArray.partial(8*(3&i),e)),s}},sjcl.hash.sha256=function(t){this._key[0]||this._precompute(),t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},sjcl.hash.sha256.hash=function(t){return(new sjcl.hash.sha256).update(t).finalize()},sjcl.hash.sha256.prototype={blockSize:512,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(t){"string"===typeof t&&(t=sjcl.codec.utf8String.toBits(t));var i,s=this._buffer=sjcl.bitArray.concat(this._buffer,t),e=this._length,r=this._length=e+sjcl.bitArray.bitLength(t);for(i=512+e&-512;i<=r;i+=512)this._block(s.splice(0,16));return this},finalize:function(){var t,i=this._buffer,s=this._h;for(t=(i=sjcl.bitArray.concat(i,[sjcl.bitArray.partial(1,1)])).length+2;15&t;t++)i.push(0);for(i.push(Math.floor(this._length/4294967296)),i.push(0|this._length);i.length;)this._block(i.splice(0,16));return this.reset(),s},_init:[],_key:[],_precompute:function(){var t,i=0,s=2;function e(t){return 4294967296*(t-Math.floor(t))|0}t:for(;i<64;s++){for(t=2;t*t<=s;t++)if(s%t===0)continue t;i<8&&(this._init[i]=e(Math.pow(s,.5))),this._key[i]=e(Math.pow(s,1/3)),i++}},_block:function(t){var i,s,e,r,n=t.slice(0),h=this._h,c=this._key,o=h[0],a=h[1],l=h[2],u=h[3],f=h[4],p=h[5],_=h[6],g=h[7];for(i=0;i<64;i++)i<16?s=n[i]:(e=n[i+1&15],r=n[i+14&15],s=n[15&i]=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+n[15&i]+n[i+9&15]|0),s=s+g+(f>>>6^f>>>11^f>>>25^f<<26^f<<21^f<<7)+(_^f&(p^_))+c[i],g=_,_=p,p=f,f=u+s|0,u=l,l=a,o=s+((a=o)&l^u&(a^l))+(a>>>2^a>>>13^a>>>22^a<<30^a<<19^a<<10)|0;h[0]=h[0]+o|0,h[1]=h[1]+a|0,h[2]=h[2]+l|0,h[3]=h[3]+u|0,h[4]=h[4]+f|0,h[5]=h[5]+p|0,h[6]=h[6]+_|0,h[7]=h[7]+g|0}},sjcl.hash.sha512=function(t){this._key[0]||this._precompute(),t?(this._h=t._h.slice(0),this._buffer=t._buffer.slice(0),this._length=t._length):this.reset()},sjcl.hash.sha512.hash=function(t){return(new sjcl.hash.sha512).update(t).finalize()},sjcl.hash.sha512.prototype={blockSize:1024,reset:function(){return this._h=this._init.slice(0),this._buffer=[],this._length=0,this},update:function(t){"string"===typeof t&&(t=sjcl.codec.utf8String.toBits(t));var i,s=this._buffer=sjcl.bitArray.concat(this._buffer,t),e=this._length,r=this._length=e+sjcl.bitArray.bitLength(t);for(i=1024+e&-1024;i<=r;i+=1024)this._block(s.splice(0,32));return this},finalize:function(){var t,i=this._buffer,s=this._h;for(t=(i=sjcl.bitArray.concat(i,[sjcl.bitArray.partial(1,1)])).length+4;31&t;t++)i.push(0);for(i.push(0),i.push(0),i.push(Math.floor(this._length/4294967296)),i.push(0|this._length);i.length;)this._block(i.splice(0,32));return this.reset(),s},_init:[],_initr:[12372232,13281083,9762859,1914609,15106769,4090911,4308331,8266105],_key:[],_keyr:[2666018,15689165,5061423,9034684,4764984,380953,1658779,7176472,197186,7368638,14987916,16757986,8096111,1480369,13046325,6891156,15813330,5187043,9229749,11312229,2818677,10937475,4324308,1135541,6741931,11809296,16458047,15666916,11046850,698149,229999,945776,13774844,2541862,12856045,9810911,11494366,7844520,15576806,8533307,15795044,4337665,16291729,5553712,15684120,6662416,7413802,12308920,13816008,4303699,9366425,10176680,13195875,4295371,6546291,11712675,15708924,1519456,15772530,6568428,6495784,8568297,13007125,7492395,2515356,12632583,14740254,7262584,1535930,13146278,16321966,1853211,294276,13051027,13221564,1051980,4080310,6651434,14088940,4675607],_precompute:function(){var t,i=0,s=2;function e(t){return 4294967296*(t-Math.floor(t))|0}function r(t){return 1099511627776*(t-Math.floor(t))&255}t:for(;i<80;s++){for(t=2;t*t<=s;t++)if(s%t===0)continue t;i<8&&(this._init[2*i]=e(Math.pow(s,.5)),this._init[2*i+1]=r(Math.pow(s,.5))<<24|this._initr[i]),this._key[2*i]=e(Math.pow(s,1/3)),this._key[2*i+1]=r(Math.pow(s,1/3))<<24|this._keyr[i],i++}},_block:function(t){var i,s,e,r=t.slice(0),n=this._h,h=this._key,c=n[0],o=n[1],a=n[2],l=n[3],u=n[4],f=n[5],p=n[6],_=n[7],g=n[8],b=n[9],j=n[10],d=n[11],y=n[12],m=n[13],v=n[14],A=n[15],k=c,w=o,B=a,S=l,x=u,M=f,H=p,L=_,z=g,R=b,C=j,I=d,P=y,U=m,O=v,T=A;for(i=0;i<80;i++){if(i<16)s=r[2*i],e=r[2*i+1];else{var D=r[2*(i-15)],E=r[2*(i-15)+1],N=(E<<31|D>>>1)^(E<<24|D>>>8)^D>>>7,q=(D<<31|E>>>1)^(D<<24|E>>>8)^(D<<25|E>>>7),G=r[2*(i-2)],V=r[2*(i-2)+1],Y=(V<<13|G>>>19)^(G<<3|V>>>29)^G>>>6,F=(G<<13|V>>>19)^(V<<3|G>>>29)^(G<<26|V>>>6),J=r[2*(i-7)],K=r[2*(i-7)+1],Q=r[2*(i-16)],W=r[2*(i-16)+1];s=N+J+((e=q+K)>>>0<q>>>0?1:0),s+=Y+((e+=F)>>>0<F>>>0?1:0),s+=Q+((e+=W)>>>0<W>>>0?1:0)}r[2*i]=s|=0,r[2*i+1]=e|=0;var X=z&C^~z&P,Z=R&I^~R&U,$=k&B^k&x^B&x,tt=w&S^w&M^S&M,it=(w<<4|k>>>28)^(k<<30|w>>>2)^(k<<25|w>>>7),st=(k<<4|w>>>28)^(w<<30|k>>>2)^(w<<25|k>>>7),et=(R<<18|z>>>14)^(R<<14|z>>>18)^(z<<23|R>>>9),rt=(z<<18|R>>>14)^(z<<14|R>>>18)^(R<<23|z>>>9),nt=h[2*i],ht=h[2*i+1],ct=T+rt,ot=O+et+(ct>>>0<T>>>0?1:0);ot+=X+((ct+=Z)>>>0<Z>>>0?1:0),ot+=nt+((ct+=ht)>>>0<ht>>>0?1:0);var at=st+tt;O=P,T=U,P=C,U=I,C=z,I=R,z=H+(ot+=s+((ct+=e)>>>0<e>>>0?1:0))+((R=L+ct|0)>>>0<L>>>0?1:0)|0,H=x,L=M,x=B,M=S,B=k,S=w,k=ot+(it+$+(at>>>0<st>>>0?1:0))+((w=ct+at|0)>>>0<ct>>>0?1:0)|0}o=n[1]=o+w|0,n[0]=c+k+(o>>>0<w>>>0?1:0)|0,l=n[3]=l+S|0,n[2]=a+B+(l>>>0<S>>>0?1:0)|0,f=n[5]=f+M|0,n[4]=u+x+(f>>>0<M>>>0?1:0)|0,_=n[7]=_+L|0,n[6]=p+H+(_>>>0<L>>>0?1:0)|0,b=n[9]=b+R|0,n[8]=g+z+(b>>>0<R>>>0?1:0)|0,d=n[11]=d+I|0,n[10]=j+C+(d>>>0<I>>>0?1:0)|0,m=n[13]=m+U|0,n[12]=y+P+(m>>>0<U>>>0?1:0)|0,A=n[15]=A+T|0,n[14]=v+O+(A>>>0<T>>>0?1:0)|0}},sjcl.misc.hmac=function(t,i){this._hash=i=i||sjcl.hash.sha256;var s,e=[[],[]],r=i.prototype.blockSize/32;for(this._baseHash=[new i,new i],t.length>r&&(t=i.hash(t)),s=0;s<r;s++)e[0][s]=909522486^t[s],e[1][s]=1549556828^t[s];this._baseHash[0].update(e[0]),this._baseHash[1].update(e[1]),this._resultHash=new i(this._baseHash[0])},sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(t){if(this._updated)throw new sjcl.exception.invalid("encrypt on already updated hmac called!");return this.update(t),this.digest(t)},sjcl.misc.hmac.prototype.reset=function(){this._resultHash=new this._hash(this._baseHash[0]),this._updated=!1},sjcl.misc.hmac.prototype.update=function(t){this._updated=!0,this._resultHash.update(t)},sjcl.misc.hmac.prototype.digest=function(){var t=this._resultHash.finalize(),i=new this._hash(this._baseHash[1]).update(t).finalize();return this.reset(),i},sjcl.misc.pbkdf2=function(t,i,s,e,r,n,h){if(s=s||1e3,e<0||s<0)throw sjcl.exception.invalid("invalid params to pbkdf2");var c,o,a,l,u,f,p;"string"===typeof t&&(t=sjcl.codec.utf8String.toBits(t)),"string"===typeof i&&(i=sjcl.codec.utf8String.toBits(i)),r=r||sjcl.misc.hmac;var _=!1;for(null!=h?(u=h.k,y=h.i,a=h.ui,o=h.u,c=h.prf,p=h.b,f=h.out,_=!0):(h={},c=new r(t),u=1,f=[],p=sjcl.bitArray);32*f.length<(e||1);u++){for(_||(o=a=c.encrypt(p.concat(i,[u])),y=1),_=!1;y<s;y++){for(a=c.encrypt(a),l=0;l<a.length;l++)o[l]^=a[l];if(y<s&&y%200==0&&"function"===typeof n)return h.k=u,h.i=y+1,h.u=o,h.ui=a,h.prf=c,h.b=p,h.out=f,setTimeout((function(){sjcl.misc.pbkdf2(t,i,s,e,r,n,h)}),0),null}f=f.concat(o)}if(e&&(f=p.clamp(f,e)),"function"===typeof n){for(var g=sjcl.codec.hex.fromBits(f),b=AES.hex2bin(g),j=sjcl.codec.bytes.fromBits(t),d="",y=0;y<j.length;y++)d+=String.fromCharCode(j[y]);n(b,d,s)}return f};